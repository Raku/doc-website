=begin pod
=TITLE link-error-test is plugin for Collection

The plugin is for the compilation & render milestones

Compiles a list of the links produced by Content files. The plugin cannot handle links in Collection structure files
because the compilation stage occurs after the compilation plugins are run. This plugin generates a web page
which is to be included in the output, so it has to be rendered during the compilation stage.

The report stage has access to all links, but C<Collection> stores report output in the report directory. This
plugin stores output in the output (html) folder. Consequently links in structure files can be tested at the
report stage, but compiled into html.

Links are tested in three ways:
=item external links (viz., to http(s):// schemas) are tested using LibCurl and checking the response code.
=item local links, which are links to targets in documents within the Collection, are tested
by verifying whether the file exists at the location specified.

=item2 The Secondaries plugin generates files which may have escaped aliases. The Secondary
plugin passes the aliases into the dataspace for this plugin. Consequently, this
plugin must appear in the configuration list before Secondaries.

=item internal links, which are links within a document (viz. a C<#target> schema),
and internal links to local files (viz., a C</path/to/file#internal_target> schema) are tested by looking
at the C<targets> data structure that C<ProcessedPod> collects. All targets are registered to ensure that
they are unique.

=head1 Configuration

Testing remote files is slow, so it can be turned off by setting C<no-remote> to True in the plugin config file.
In general, Collection allows for plugin configuration data to be declared in the Mode configuration
file. Check the Collection documentation.

=head1 Reporting

Links are considered to have an error if:
=item for remote sites, an error is when the site generates a 4xx || 5xx response. The response code is provided.
=item for local links specified as only the file, there is an error if the file does not exist.
=item for local links specified with an internal target, there is an error if the target is not registered
for that file

=item for internal links, there is an error if the target is not registered.

Errors are reported in that order.

=head1 Custom blocks

Using the following will list the link errors.

LinkErrorTest

=head1 Templates

linkerrortest is used to render the information generated by the plugin.

=end pod
